{% extends "base_after_logging_technician.html" %}

{% block page_title %}Technician Pending Approvals{% endblock %}

{% block content %}
    <p>Welcome, {{ request.session.technician_email }}. Here is the list of pending appointments:</p>
    
    <ul>
        {% for appointment in appointments_for_technician %}
            <li>
                {{ appointment.appointment.appointment_id }} - {{ appointment.service_detail }} - {{ appointment.appointment.vehicletype }}
                <form method="post" action="{% url 'technician_pending_appointments' %}">
                    {% csrf_token %}
                    <input type="hidden" name="appointment" value="{{ appointment.appointment.appointment_id }}">
                    <input type="hidden" name="service_detail" value="{{ appointment.service_detail }}">
                    <button type="submit">Approve</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
